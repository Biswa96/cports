diff --git a/CMakeLists.txt b/CMakeLists.txt
index 4cec6db..232f489 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -49,6 +49,7 @@ if (WITH_QT6)
     find_package(Qt6Widgets 6.1.0 REQUIRED)
     set(copyq_qt Qt6)
     add_definitions( -DQT_DEPRECATED_WARNINGS_SINCE=0x051500 )
+    find_package(Qt6 6.10.0 REQUIRED COMPONENTS Gui GuiPrivate)
 else()
     set(QT_DEFAULT_MAJOR_VERSION 5)
     find_package(Qt5Widgets 5.8.0 REQUIRED)
diff --git a/src/common/server.cpp b/src/common/server.cpp
index b86ba0b..80337fc 100644
--- a/src/common/server.cpp
+++ b/src/common/server.cpp
@@ -39,7 +39,7 @@ QString lockFilePath()
 
 struct Server::PrivateData {
     QLocalServer server;
-    QLockFile lockFile = lockFilePath();
+    QLockFile lockFile{lockFilePath()};
     int socketCount = 0;
     QEventLoop *loop = nullptr;
 };
diff --git a/src/platform/x11/systemclipboard/CMakeLists.txt b/src/platform/x11/systemclipboard/CMakeLists.txt
index d729115..84f2cad 100644
--- a/src/platform/x11/systemclipboard/CMakeLists.txt
+++ b/src/platform/x11/systemclipboard/CMakeLists.txt
@@ -33,6 +33,7 @@ endif()
 
 target_link_libraries(systemclipboard
                       ${copyq_qt}::Gui
+                      ${copyq_qt}::GuiPrivate
                       ${copyq_qt}::WaylandClient
                       Wayland::Client
 )
